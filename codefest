import random
import os
import math
import pygame
from pygame.constants import BUTTON_LEFT

pygame.init()

pygame.display.set_caption("Platformer game")

#setup constant variables
FPS = 60
WIDTH, HEIGHT = 1000, 800
WINDOW = pygame.display.set_mode((WIDTH, HEIGHT))

main_menu = True
run = True

#load images
start_img = pygame.image.load('img/start_btn.png')
exit_img = pygame.image.load('img/exit_btn.png')
bg2_img = pygame.image.load('img/sky.png')

start_button = pygame.transform.scale(start_img, (200, 100))
quit_button = pygame.transform.scale(exit_img, (200, 100))

def get_block(size):
  path = join("assets", "Terrain", "Terrain.png")
  image = pygame.image.load(path).convert_alpha()
  surface = pygame.Surface((size, size), pygame.SRCALPHA, 32)
  rect = pygame.Rect(96, 0, size, size)
  surface.blit(image, (0, 0), rect)
  return pygame.transform.scale2x(surface)

class Button():
  def __init__(self, x, y, image):
    self.image = image
    self.rect = self.image.get_rect()
    self.rect.x = x
    self.rect.y = y
    self.clicked = False

  def draw(self):
    action = False

    #get mouse position
    pos = pygame.mouse.get_pos()

    #check mouseover and clicked conditions
    if self.rect.collidepoint(pos):
      if pygame.mouse.get_pressed()[0] == 1 and self.clicked == False:
        action = True
        self.clicked = True

    if pygame.mouse.get_pressed()[0] == 0:
      self.clicked = False


    #draw button
    screen.blit(self.image, self.rect)

    return action


class Object(pygame.sprite.Sprite):
  def __init__(self, x, y, width, height, name=None):
    super().__init__()
    self.rect = pygame.Rect(x, y, width, height)
    self.image = pygame.Surface((width, height), pygame.SRCALPHA)
    self.width = width
    self.height = height
    self.name = name

def draw(self, win, offset_x):
    win.blit(self.image, (self.rect.x - offset_x, self.rect.y))






def draw():
  pass

def main():
  global main_menu
  clock = pygame.time.Clock()
  run = True
  while run:
    clock.tick(FPS)
    for event in pygame.event.get():
      if event.type == pygame.QUIT:
        run = False
        pygame.quit()
    if run:
      draw()



if __name__ == "__main__":
  main()
